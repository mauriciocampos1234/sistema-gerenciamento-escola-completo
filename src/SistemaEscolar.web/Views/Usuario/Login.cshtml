@model SistemaEscolar.web.Models.Usuario.LoginViewModel
@{
    ViewData["Title"] = "Login";
}

<main class="form-signin w-100 m-auto">
    <form asp-controller="Usuario" asp-action="Login" class="needs-validation" novalidate>
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-box-arrow-in-right text-primary" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0z" />
            <path fill-rule="evenodd" d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z" />
        </svg>
        
        <h1 class="h3 mb-3 fw-normal text-primary">Fazer seu Login com</h1>
        <div class="form-floating">
            <input type="text" class="form-control" id="floatingInput" placeholder="E-mail de cadastro" asp-for="Usuario" required> <!--Chamar a classe LoginViewModel(Namespace) (arroba)model SistemaEscolar.web.Models.usuario.LoginViewModel-->
            <label for="floatingInput">E-mail de cadastro</label>
        </div>
        <div class="form-floating">
            <input type="password" class="form-control" id="floatingPassword" placeholder="Senha" asp-for="Senha" required>
            <label for="floatingPassword">Senha</label>
        </div>
        <div class="form-check text-start my-3">
            <input class="form-check-input" type="checkbox" value="remember-me" id="checkDefault" asp-for="LembrarMe">
            <label class="form-check-label text-primary" for="checkDefault">
                Lembrar-me
            </label>
        </div>
        <button class="btn btn-primary w-100 py-2" type="submit">Entrar</button>
        
        <!--chamamos a validação da mensagem de erro requerida na classe LoginViewModel dos atibutos Usuario e Senha-->
        @Html.ValidationSummary(false, "", new { @class = "text-danger mt-3" })

    </form>
</main>

@section Scripts {
   <script>
           //Pegando o código JS de valdiação do BootStrap-->
        (() => {
          'use strict'

          // Busca todos os formulários aos quais queremos aplicar estilos de validação Bootstrap personalizados
          const forms = document.querySelectorAll('.needs-validation')

          // Faça um loop sobre eles e evite a submissão
         Array.from(forms).forEach(form => {
            form.addEventListener('submit', event => {
              if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
              }

              form.classList.add('was-validated')
            }, false)
          })
       })()
   </script>
}
